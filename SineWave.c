#include<reg52.h>
typedef unsigned char tbyte;
typedef unsigned int tword;
sbit key1=P3^2;
sbit key2=P3^3;
sbit key3=P3^4;

tbyte code fullrect[] = 
{128+0,128+13,128+26,128+39,128+51,128+63,128+74,128+84,128+94,128+102,
128+109,128+116,128+120,128+124,128+126,128+127,128+126,128+124,128+120,
128+116,128+109,128+102,128+94,128+84,128+74,128+63,128+51,128+39,128+26,
128+13};

tbyte code sine[]=
{128+0,128+13,128+26,128+39,128+51,128+63,128+74,128+84,128+94,128+102,
128+109,128+116,128+120,128+124,128+126,128+127,128+126,128+124,128+120,
128+116,128+109,128+102,128+94,128+84,128+74,128+63,128+51,128+39,128+26,
128+13,128-0,128-13,128-26,128-39,128-51,128-63,128-74,128-84,128-94,128-102,
128-109,128-116,128-120,128-124,128-126,128-127,128-126,128-124,128-120,128-116,
128-109,128-102,128-94,128-84,128-74,128-63,128-51,128-39,128-26,128-13};

tbyte code halfrect[]=
{128+0,128+13,128+26,128+39,128+51,128+63,128+74,128+84,128+94,128+102,
128+109,128+116,128+120,128+124,128+126,128+127,128+126,128+124,128+120,
128+116,128+109,128+102,128+94,128+84,128+74,128+63,128+51,128+39,128+26,
128+13,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,
128,128,128,128,128,128,128,128,128,128,128,128,128};

main()
{
	tbyte i=0,j=0,k=0;
	key1=key2=key3=1; //inputs
	while(1)
	{
		if(key1==0)
		{
			while(1)
			{
				P0=fullrect[i++];
				if(i==30) i=0;
				
				if(key1==0 || key2==0 || key3==0)break;
			}
		}
			if(key2==0)
		{
			while(1)
			{
				P0=sine[j++];
				if(j==60) j=0;
				
				if(key1==0 || key2==0 || key3==0)break;
			}
		}
			if(key3==0)
		{
			while(1)
			{
				P0=halfrect[k++];
				if(k==60) k=0;
				
				if(key1==0 || key2==0 || key3==0)break;
			}
		}
	}	
}